{% load static %}

<!DOCTYPE html>

<html lang="en">

<head>
  <title>{% block title %}{% endblock %}</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
  <link href="https://fonts.cdnfonts.com/css/linux-libertine" rel="stylesheet">
  <link href="{% static 'encyclopedia/styles.css' %}" rel="stylesheet">
</head>

<body class="position-relative d-flex flex-column flex-md-row min-vh-100">
  <header
    class="h-md-100 fixed-top d-flex flex-column gap-3 col-12 col-md-4 col-lg-3 justify-content-center bg-secondary-subtle p-3">
    <div class="d-flex flex-row justify-content-between align-items-center ">
      <a href="/" class="text-reset d-flex flex-row flex-md-column align-items-center gap-3">
        <img src="{% static 'encyclopedia/Wikipedia_logo_(svg).svg'%}" alt="Wikipedia Logo"
          class="d-none d-md-block w-50">
        <h1 style="font-family:'linux libertine c';" class="">Wiki</h1>
      </a>
      <div id="nav-button" role="button" class="pt-1 d-md-none fs-1">
        <i class="bi bi-list"></i>
      </div>
    </div>
    <div id="nav-content" class="d-none d-flex d-md-flex flex-column gap-3 mb-3">
      <form action="{% url 'search' %}">
        <input class="form-control" autocomplete="off" type="text" name="q" placeholder="Search Encyclopedia">
      </form>
      <nav class="d-flex flex-column gap-1 align-items-md-center">
        <a href="{% url 'index' %}">Home</a>
        <a href="{% url 'create' %}">Create New Page</a>
        <a href="{% url 'random' %}">Random Page</a>
      </nav>
    </div>
  </header>
  <main class="mt-5 py-5 px-3 mt-md-0 p-md-5 d-flex flex-column col-12 col-md-8 col-lg-9 me-0 ms-auto">
    <div class="mt-3 mt-md-0">
      {% block body %}
      {% endblock %}
    </div>

  </main>
  <script>
    const nav_button = document.querySelector("#nav-button");
    const nav_content = document.querySelector("#nav-content");

    nav_button.addEventListener("click", () => {
      const icon = nav_button.querySelector("i");
      if (icon.classList.contains("bi-list")) {
        icon.classList.remove("bi-list");
        icon.classList.add("bi-x");
      } else {
        icon.classList.remove("bi-x");
        icon.classList.add("bi-list");
      }
      nav_content.classList.toggle("d-none");
    })
  </script>
</body>

</html>